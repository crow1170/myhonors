<div class="row-fluid">
	<div class="span12 box padded-small" style="position: relative">
		<div id="map_canvas" style="height: 250px"></div>
		<div class="mapoverlay">
			<div>
				<h1>{{event.name}}</h1>
				<p class="smalltext">{{event.date.begins*1000 | date:"EEEE, MMMM d 'at' h:mma"}} at {{event.location.name}}. Counts as 1 {{event.type}}.</p>
				<p>{{event.desc}}</p>
			</div>
		</div>
	</div>
</div>

<div class="row-fluid">
	<div class="span3">
		<div class="box">
			<div class="box-header">Event Details</div>
			<div class="box-content padded">
				<p>{{event.desc}}</p>
				<p>
					<strong>Date: </strong> {{event.date.begins | date:"EEE, MMMM d 'at' h:mm a"}}<br />
					<strong>Location: </strong> {{event.location.name}}
				</p>
			</div>
		</div>
	</div>
	<div class="span6">
		<div class="box">
			<div class="media padded">
				<a class="pull-left" href="#"><img class="media-object img-rounded" src="http://placehold.it/48" /></a>
				<div class="media-body">
					<form class="form-inline" style="margin: 0" ng-submit="addComment()">
						<input type="text" ng-model="userComment" class="input-block-level" style="height: 48px; padding: 0px 10px" placeholder="Leave a comment..." />
					</form>
				</div>
			</div>
			<div class="padded-small text-center" style="position: relative">
				<div style="height: 2px; width: 100%; background-color: #00baff; position: absolute; top: 15px; left: 0px"></div>
				<span style="padding: 0 10px; background-color: white; position: relative; z-index: 10">
					{{comments.length}} comments. Sorted by
					<div class="dropdown text-left" style="display: inline-block">
						<a class="dropdown-toggle" data-toggle="dropdown" href="#">{{sortComments.getCurrent()}} <span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a ng-click="sortComments.current = 'kudos'">Best</a></li>
							<li><a ng-click="sortComments.current = '-date'">Newest First</a></li>
							<li><a ng-click="sortComments.current = 'date'">Oldest First</a></li>
						</ul>
					</div>
				</span>
			</div>
			<div class="padded">
				<div ng-show="!comments.length" class="alert alert-info padded-medium" style="margin-bottom: 0">
					<strong>Be the first to comment!</strong> Tell us what you think.
				</div>
				<div class="media" style="margin-top: 0; margin-bottom: 10px;" ng-repeat="comment in comments | orderBy:sortComments.current">
					<a class="pull-left" href="#"><img class="media-object img-rounded" src="http://placehold.it/48" /></a>
					<div class="media-body">
						<span>
							<a href="#" class="media-heading">{{comment.fname}} {{comment.lname}}</a>
							<span style="color: rgba(30,55,70,0.4)">
								<span style="font-size: 85%; padding: 3px">&#8226;</span> {{comment.date | timeAgo}}
							</span>
						<p style="font-size: 15px; color: #42474a; font-weight: 300">{{comment.content}}</p>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="span3">
		<div class="box">
			<div class="box-content padded text-center">
				<button class="btn btn-large input-block-level" style="margin-bottom: 10px" ng-click="addRSVP(event.id)" ng-show="!hasRSVP(event.id)">I'm Going</button>
				<button class="btn btn-large btn-primary input-block-level" style="margin-bottom: 10px" ng-click="removeRSVP(event.id)" ng-show="hasRSVP(event.id)">I'm Going</button> <button class="btn">Invite a Friend</button> <button class="btn"><i class="icon-heart"></i></button> <button class="btn"><i class="icon-share"></i></button><br />
			</div>
		</div>
		<div class="box">
			<div class="box-header">RSVPs</div>
			<div class="box-content padded">
				<div ng-show="!rsvps.length" class="alert alert-info padded-medium" style="margin-bottom: 0">
					<strong>Be the first to RSVP!</strong> Just click the huge "I'm Going" button above and others will follow.
				</div>
				<ul class="unstyled">
					<li ng-repeat="rsvp in rsvps">{{rsvp}} is going</li>
				</ul>
			</div>
		</div>
	</div>
</div>